{"version":3,"sources":["uni-app:///main.js","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?63f4","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?9023","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?b10d","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?9b5e","uni-app:///records/listRecord/pageOne.vue","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?a3f8","webpack:///F:/贵州医院小程序/新建文件夹 (2)/hospital-mini-app-client/records/listRecord/pageOne.vue?ac4e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6BrnB;AACA,gCADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,iBAHA;AAIA,iBAJA,EADA;;AAOA,cAPA;;AASA,GAZA;AAaA,QAbA,kBAaA,OAbA,EAaA;AACA,qFADA;AAEA,GAfA;AAgBA;AACA,UADA,oBACA;AACA;AACA,KAHA;AAIA,YAJA,sBAIA;AACA;AACA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA;AACA;AACA;AACA,8BADA;;AAGA;AACA,qEADA;AAEA,8BAFA;AAGA;AACA,sDADA;AAEA,yCAFA;AAGA,sDAHA;AAIA,sCAJA;AAKA,sCALA;AAMA,iEANA;AAOA,6DAPA;AAQA,iDARA;AASA,+CATA;AAUA,mDAVA;AAWA,sCAXA,EAHA;;AAgBA,kBAhBA,CAgBA;AACA;AACA;AACA,eAnBA;AAoBA;AACA,WA7BA;;AA+BA;AACA,KAvCA;AAwCA,aAxCA,qBAwCA,OAxCA,EAwCA;AACA;AACA,oCADA;AAEA,kCAFA;AAGA,+CAHA;AAIA,kCAJA;AAKA,gCALA;AAMA;AACA;AACA,yBADA;AAEA,0BAFA;;AAIA;AACA,SAZA;AAaA;AACA;AACA,yBADA;AAEA,0BAFA;;AAIA,SAlBA;;AAoBA,KA7DA,EAhBA,E;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAA2nC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA/oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"records/listRecord/pageOne.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './records/listRecord/pageOne.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pageOne.vue?vue&type=template&id=69fd30d2&scoped=true&\"\nvar renderjs\nimport script from \"./pageOne.vue?vue&type=script&lang=js&\"\nexport * from \"./pageOne.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pageOne.vue?vue&type=style&index=0&id=69fd30d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69fd30d2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"records/listRecord/pageOne.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pageOne.vue?vue&type=template&id=69fd30d2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pageOne.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pageOne.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"detailPage\">\r\n    <view v-if=\"item\">\r\n        <hs-card class=\"pageContainer\">\r\n                <view>院区：<text>{{item.district}}</text></view>\r\n                <view>医院唯一号：<text>{{item.seqNum}}</text></view>\r\n                <view>处方号：<text>{{item.recipeCode}}</text></view>\r\n                <view>科室编号：<text>{{item.depCode}}</text></view>\r\n                <view>科室名称：<text>{{item.depName}}</text></view>\r\n                <view>医生编号：<text>{{item.docCode}}</text></view>\r\n                <view>医生姓名：<text>{{item.docName}}</text></view>\r\n                <view>处方类别：<text>{{item.recipeType}}</text></view>\r\n                <view>就诊时间：<text>{{item.visitTime}}</text></view>\r\n                <view>总费用：<text>{{item.total}}</text></view>\r\n                <view>就诊状态：<text>{{item.visitStatus==1?\"已就诊\":\"未就诊\"}}</text></view>\r\n                <view>诊断信息：<text>{{item.zdInfo}}</text></view>\r\n                <view>处方类型：<text>{{item.cftype==1?\"自费\":\"医保\"}}</text></view>\r\n                <view>处方来源：<text>{{enums[item.lyInfo] || \"未知\"}}</text></view>\r\n                <view>结算状态：<text>{{item.settlementState == 1?\"已结算\":\"未结算\"}}</text></view>\r\n                <!-- <view>人员结算单信息：<text>{{item.jsonStr}}</text></view> -->\r\n        </hs-card>\r\n        <button class=\"btn\" @click=\"submit\">支付</button>\r\n    </view>\r\n    <NoData v-else />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport NoData from '@/components/nodata/index.vue'\r\nexport default {\r\n    components: { NoData },\r\n    data(){\r\n        return {\r\n            enums:{\r\n                'O':'门诊',\r\n                'P':'体检',\r\n                'E':'急诊',\r\n                'I':'住院',\r\n            },\r\n            item: {}   \r\n        }\r\n    },\r\n    async onLoad(options){\r\n        options.row?(this.item = JSON.parse(options.row)):(this.item = null)\r\n    },\r\n    methods: {\r\n        submit() {\r\n            this.payMoney()\r\n        },\r\n        payMoney() {\r\n            const row = this.item;\r\n            if(row.settlementState!=1){\r\n                uni.showModal({\r\n                    title:'提示',\r\n                    content: '当前订单未支付，是否现在支付',\r\n                    success: (res)=>{\r\n                        if(res.confirm){\r\n                            uni.showLoading({\r\n                                text: \"加载中...\"\r\n                            })\r\n                            this.$request({\r\n                                path: `/registration/settlement/create-order-and-pay`,\r\n                                method:'post',\r\n                                query: {\r\n                                    openId: uni.getStorageSync(\"openId\"),\r\n                                    payAmountStr: row.total,\r\n                                    medicalRecordNo: row.PatientCard.mrn,\r\n                                    depCode: row.depCode,\r\n                                    docCode: row.docCode,\r\n                                    certificateType: row.PatientInfo.credentialType,\r\n                                    certificateNo: row.PatientInfo.credentialNo,\r\n                                    phoneNum: row.PatientInfo.phone,\r\n                                    patientId: row.PatientInfo.id,\r\n                                    patientName: row.PatientInfo.name,\r\n                                    jsonStr: row.jsonStr\r\n                                }\r\n                            }).then(data=>{\r\n                                uni.hideLoading();\r\n                                if(data.data.code == 200) this.weixinPay(data.data.data)\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        weixinPay(payinfo) {\r\n            uni.requestPayment({\r\n                timeStamp: payinfo.timeStamp,\r\n                nonceStr: payinfo.nonceStr,\r\n                package: 'prepay_id' + payinfo.packages,\r\n                signType: payinfo.signType,\r\n                paySign: payinfo.paySign,\r\n                success: payFlag => {\r\n                    uni.showToast({\r\n                        title: '支付成功',\r\n                        duration: 2000\r\n                    })\r\n                    uni.navigateBack()\r\n                },\r\n                fail: err => {\r\n                    uni.showToast({\r\n                        title: '支付失败',\r\n                        duration: 2000\r\n                    })\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .btn{\r\n        width: calc(100% - 40rpx);\r\n        font-size: $uni-font-size-lg;\r\n        background: $uni-color-primary;\r\n        color: #fff;\r\n    }\r\n\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pageOne.vue?vue&type=style&index=0&id=69fd30d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./pageOne.vue?vue&type=style&index=0&id=69fd30d2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640703231228\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}