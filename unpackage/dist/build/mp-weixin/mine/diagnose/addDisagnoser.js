(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["mine/diagnose/addDisagnoser"],{"05b9":function(t,e,n){"use strict";n.r(e);var a=n("3c08"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},1549:function(t,e,n){"use strict";(function(t){n("9e93");a(n("66fd"));var e=a(n("ee7b"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"1e1e":function(t,e,n){},"3c08":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{name:"",idcard:"",address:"",phone:"",identify:"",diagnoseId:"",defaultDisgnose:!1,birthday:"",sexs:[{value:1,name:"男"},{value:2,name:"女"}],sex:1,patints:[{value:0,name:"成人"},{value:1,name:"儿童"}],patientIndex:0,contactTypes:[{value:1,name:"父亲"},{value:2,name:"母亲"},{value:3,name:"爷爷"},{value:4,name:"奶奶"},{value:5,name:"外公"},{value:6,name:"外婆"},{value:7,name:"叔伯/舅舅"},{value:8,name:"姑姑/姨妈"}],contactType:1,contactTypeIndex:0,nations:["汉族","壮族","满族","回族","苗族","维吾尔族","土家族","彝族","蒙古族","藏族","布依族","侗族","瑶族","朝鲜族","白族","哈尼族","哈萨克族","黎族","傣族","畲族","傈僳族","仡佬族","东乡族","高山族","拉祜族","水族","佤族","纳西族","羌族","土族","仫佬族","锡伯族","柯尔克孜族","达斡尔族","景颇族","毛南族","撒拉族","布朗族","塔吉克族","阿昌族","普米族","鄂温克族","怒族","京族","基诺族","德昂族","保安族","俄罗斯族","裕固族","乌兹别克族","门巴族","鄂伦春族","独龙族","塔塔尔族","赫哲族","珞巴族"],nationindex:0,nation:"",contactIdcard:"",contactPhone:"",contactName:"",credentialTyps:[{value:1,name:"身份证"},{value:2,name:"军官证"},{value:3,name:"户口本"},{value:4,name:"护照"},{value:5,name:"外国人永久居住证"},{value:6,name:"就诊卡号"},{value:7,name:"住院号"},{value:8,name:"病历号"}],credentialTypeIndex:0,credentialType:1,patientId:""}},onLoad:function(e){if(console.log("options==>",e.item),e.item){var n=JSON.parse(e.item);t.setNavigationBarTitle({title:"编辑就诊人"}),this.patientId=n.id,this.name=n.name,this.idcard=n.idnumber,this.phone=n.phone,this.birthday=n.birthday,this.idcard=n.credentialNo,this.address=n.address,this.contactPhone=n.contactPhone,this.contactIdcard=n.contactIdcard,this.contactName=n.contactName,this.contactType=n.contactType,this.nation=n.nation,this.contactIdcard=n.contactIdcard,this.contactName=n.contactName,this.credentialType=n.credentialType,this.sex=n.sex,this.defaultDisgnose=!!n.defaultPatient;for(var a=0;a<this.contactTypes.length;a++){var i=this.contactTypes[a];if(i.value==n.contactType){this.contactTypeIndex=a;break}}for(var s=0;s<this.credentialTyps.length;s++){var o=this.credentialTyps[s];if(o.value==n.credentialType){this.credentialTypeIndex=s;break}}for(var c=0;c<this.patints.length;c++){var d=this.patints[c];if(d.value==n.patientType){this.patientIndex=c;break}}for(var r=0;r<this.nations.length;r++){var h=this.nations[r];if(h==n.nation){this.nationindex=r;break}}}else t.setNavigationBarTitle({title:"添加就诊人"})},methods:{clickSwit:function(){this.defaultDisgnose=!this.defaultDisgnose},radioChange:function(t){for(var e=0;e<this.sexs.length;e++)if(this.sexs[e].value==t.detail.value){this.sex=this.sexs[e].value;break}},paintChange:function(t){for(var e=0;e<this.patints.length;e++)if(console.log("this.patints[i].value====>",this.patints[e].value),this.patints[e].value==t.detail.value){this.patientIndex=e;break}},addPatient:function(){if(0===this.name.length)return t.showToast({icon:"none",title:"请输入姓名"});if(0===this.phone.length)return t.showToast({icon:"none",title:"请输入就诊人手机号"});if(0===this.idcard.length)return t.showToast({icon:"none",title:"请输入就诊人证件号"});if(0===this.birthday.length)return t.showToast({icon:"none",title:"请选择出生日期"});if(0===this.address.length)return t.showToast({icon:"none",title:"请输入就诊人详细地址"});var e={userId:t.getStorageSync("userId"),credentialNo:this.idcard,credentialType:8,name:this.name,sex:this.sex,birthday:this.birthday,patientType:this.patientIndex,phone:this.phone,nation:this.nation,address:this.address,defaultPatient:this.defaultDisgnose?1:0};1==this.patientIndex&&(e={userId:t.getStorageSync("userId"),credentialNo:this.idcard,credentialType:8,name:this.name,sex:this.sex,birthday:this.birthday,patientType:this.patientIndex,address:this.address,contactPhone:this.contactPhone,contactIdcard:this.contactIdcard,contactName:this.contactName,contactType:this.contactType,nation:this.nation,phone:this.phone,defaultPatient:this.defaultDisgnose?1:0}),this.patientId&&this.patientId.length>0?(e["id"]=this.patientId,this.$request({path:"/patient/mobile/edit",method:"PUT",query:e}).then((function(e){console.log("res",JSON.stringify(e)),200==e.data.code&&t.showToast({icon:"none",title:e.data.msg,success:function(){setTimeout((function(){t.navigateBack()}),1e3)}})}))):this.$request({path:"/patient/mobile/add",method:"POST",query:e}).then((function(e){console.log("res",JSON.stringify(e)),200==e.data.code&&t.showToast({icon:"none",title:e.data.msg,success:function(){setTimeout((function(){t.navigateBack()}),1e3)}})}))},birthdayChange:function(t){var e=t.detail.value;this.birthday=e},contactTypeChange:function(t){console.log("e===>",JSON.stringify(t));var e=t.detail.value;this.contactTypeIndex=e,this.contactType=this.contactTypes[e].value},credentialTypeChange:function(t){console.log("e===>",JSON.stringify(t));var e=t.detail.value;this.credentialTypeIndex=e,this.credentialType=this.credentialTyps[e].value},nationChange:function(t){var e=t.detail.value;this.nationindex=e,this.nation=this.nations[e]}}};e.default=n}).call(this,n("543d")["default"])},"9f47":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},s=[]},cf91:function(t,e,n){"use strict";var a=n("1e1e"),i=n.n(a);i.a},ee7b:function(t,e,n){"use strict";n.r(e);var a=n("9f47"),i=n("05b9");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("cf91");var o,c=n("f0c5"),d=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"5eaf8f0f",null,!1,a["a"],o);e["default"]=d.exports}},[["1549","common/runtime","common/vendor"]]]);